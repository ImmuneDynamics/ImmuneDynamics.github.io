---
layout: spectre
title: About Spectre
permalink: /spectre/about/
---

## What is Spectre?

---

As the size and complexity of high-dimensional cytometry data continues to expand, comprehensive computational tools that can scale to large datasets are required. Furthermore, popular clustering and dimensionality reduction tools alone are insufficient for scalable or reproducible analysis across batches, experiments, or different cytometry technologies. Here we present Spectre (https://github.com/ImmuneDynamics/Spectre), an R package designed to facilitate data analysis workflows that simplify and streamline data manipulation and annotation, population identification (clustering, classification), and dimensionality reduction (t-SNE, UMAP) etc in high-dimensional cytometry data. Strategic implementation of batch-alignment, data-integration, and cell-type classification tools allow for the integrated analysis of multiple experiments, as well as a reproducible system for rapid and repeated cell type identification in large datasets. Critically, the fundamental data structures used within Spectre, along with the implementation of classifiers allow for the scalable analysis of very large high-dimensional datasets. In addition to high-dimensional cytometry datasets, we’ve also developed functions to allow for spatial analysis of high-dimensional imaging datasets, such as those generated by Imaging Mass Cytometry. The simple, clear, and modular design of analysis workflows allow for these tools to be used by informaticians and laboratory scientists alike.

The Spectre package was constructed on the basis of the CAPX workflow in R. Along with the various R packages used within Spectre, we would like to acknowledge the cytofkit and Seurat R packages from providing inspiration for elements of the package design.

<br />

## Citations of Spectre

---

Selected **studies** citing Spectre (or the initial version of Spectre, 'CAPX') and associated scripts.

- Koutsakos et al 2021, Cell Reports Medicine
- Ferrell et al 2021, Mucosal Immunology
- Vuckovic et al 2020, Blood Advances
- Marsh-Wakefield et al 2020, Clinical and Translational Immunology
- Pirozyan 2020, Fronteirs in Immunology
- Counoupas et al 2020, BioRxiv
- Shinko et al 2019, Frontiers in immunology
- Hayashida et al 2019, J Neuroinflam
- Marsh-Wakefield et al 2019, Frontiers in immunology
- Stifter et al 2019, Cell Reports
- McGuire et al 2018, Cancer Immunology
- Campbell et al 2018, Plos Pathogens
- Jung et al 2018, J Immunol
- Roediger et al 2018, Cell
- Niewold et al 2018, Communications in Biology

Selected **online forums** citing Spectre (or the initial version of Spectre, 'CAPX') and associated scripts.
- ResearchGate: https://www.researchgate.net/post/What_are_the_best_R_packages_for_flow_cytometric_data_analysis

<br />

## What makes Spectre different?

---## What makes Spectre different?

---

TBC

<br />

## Built on data.table

---

Many existing computational tools store data in a custom format, such as the flowFrame or SingleCellExperiment object, that provide excellent field-specific structuring of single-cell data. In Spectre, data management and operations are performed using the data.table format, an extension of R’s base data.frame, provided by the data.table package. This table-like structure organises cells (rows) against cellular features or metadata (columns). This simple data.table structure allows for the high-speed processing, manipulation (subsetting, filtering, etc.), and plotting of large datasets, as well as fast reading/writing of large CSV files.

Rather than storing analysis outputs (clusters, dimensionality reduction values, annotations etc) in separate areas of a custom data format, Spectre simply adds new columns to the existing data.table. The simplicity of this data structure facilitates extremely fast and simple filtering/subsetting by data.table, as every cell (row) contains all of the information relevant for that cell: such as cellular expression, samples/groups, clusters/populations, and dimensionality reduction coordinates.

<br />

## Clustering and dimensionality reduction strategies for large datasets

---

Whilst clustering tools such as FlowSOM scale well to large datasets, dimensionality reduction approaches such as t-SNE and UMAP do not; as they incur lengthy computing time, excessive memory usage, and significant crowding effects that inhibit their utility. Whilst some improvements to runtime (flt-SNE) and plot crowding (opt-SNE) have been made, scalability and plot crowding limitations persist. As dimensionality reduction tools are primarily used to visualise cellular data and clustering results, we plot a subset of the clustered data, which addresses scalability and retains legibility. By using proportional subsampling from each sample, the relative number of cells from each cluster in each sample can be preserved in a smaller dataset, allowing for interpretable analysis via DR. Putative cellular populations amongst the clusters can then be identified, and annotated in both the subsampled DR dataset, as well as the whole clustered dataset. The whole annotated dataset can subsequently be used in downstream quantification and statistical analysis.

<br />

## Details

---

TBC

<br />
